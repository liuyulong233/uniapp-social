<template>
	<view>
		<template v-if="list.length>0">
			<!--å›¾æ–‡åˆ—è¡¨-->
			
			 <!--ä¸Šæ‹‰åŠ è½½-->
		</template>
		<template v-else-if="isseach&&list.length<1">
			 <!--æ— æ•°æ®-->
		</template>
	</view>
</template>

<script>
	export default {
		components:{
		},
		data() {
			return {
				isseach:false,
				loadtext:"ä¸Šæ‹‰åŠ è½½æ›´å¤šğŸ‘†",
				list:[],
				seaechtext:''
			}
		},
		//ç‚¹å‡»å–æ¶ˆ
		onNavigationBarButtonTap(e){
			if(e.index==0){
				uni.navigateBack({
					 delta: 1
				})
			}
		},
		//ç›‘å¬è¾“å…¥æ¡†å†…å®¹å˜åŒ–
		onNavigationBarSearchInputChanged(e){
			//console.log(e);
			this.seaechtext=e.text;
		},
		//ç›‘å¬è½¯é”®ç›˜ç‚¹å‡»æœç´¢é”®
		onNavigationBarSearchInputConfirmed(e){
			//console.log(e);
			uni.hideKeyboard();//éšè—è½¯é”®ç›˜
			if(e.text){
				this.searchdata();
			}
			else{
				uni.showToast({
					title: 'è¯·è¾“å…¥æœç´¢å†…å®¹',
					icon: 'none',
					mask: true
				})
			}
			
		},
		//ç›‘å¬ä¸‹æ‹‰åˆ·æ–°
		onPullDownRefresh() {
			this.searchdata();
		},
		//é¡µé¢è§¦åº•
		onReachBottom() {
			this.loadtop();
		},
		methods: {
			//æœç´¢äº‹ä»¶
			searchdata(){
				uni.showLoading({ title: 'å…¨åŠ›æœç´¢ä¸­',mask:true});
				//æ¨¡æ‹ŸæœåŠ¡å™¨è·å–æ•°æ®  keyword:this.seaechtext
				setTimeout(()=> {
					let objarry=[
					{
						userimg:"../../static/userpic/10.jpg",
						username:"æ˜µç§°",
						guanzhupd:true,
						contents:"æˆ‘æ˜¯æ ‡é¢˜",
						type:"img",//imgå›¾ç‰‡ï¼Œvideoè§†é¢‘
						contentsimg:"../../static/datapic/14.jpg",
						biaoqing:{
							index:1,//0è¡¨ç¤ºæ— æ“ä½œï¼Œ1è¡¨ç¤ºé¡¶äº†ï¼Œ2è¡¨ç¤ºè¸©äº†
							dingnum:10,
							cainum:10
						},
						pinglunnum:10,
						sharenum:100
					},
					{
						userimg:"../../static/userpic/10.jpg",
						username:"æ˜µç§°",
						guanzhupd:true,
						contents:"æˆ‘æ˜¯æ ‡é¢˜",
						type:"video",//imgå›¾ç‰‡ï¼Œvideoè§†é¢‘
						playnum:"20w",
						playtime:"2:40",
						contentsimg:"../../static/datapic/14.jpg",
						biaoqing:{
							index:1,//0è¡¨ç¤ºæ— æ“ä½œï¼Œ1è¡¨ç¤ºé¡¶äº†ï¼Œ2è¡¨ç¤ºè¸©äº†
							dingnum:10,
							cainum:10
						},
						pinglunnum:10,
						sharenum:100
					}
				];
				this.list=objarry;
				this.isseach=true;
				uni.hideLoading();
				uni.stopPullDownRefresh();
				}, 1000);
			},
			//ä¸Šæ‹‰äº‹ä»¶
			loadtop(){
				if(this.loadtext!="ä¸Šæ‹‰åŠ è½½æ›´å¤šğŸ‘†"){return;}					
				this.loadtext="åŠ è½½ä¸­o(*ï¿£â–½ï¿£*)ãƒ–";
				setTimeout(()=> {
					let obj={
						userimg:"../../static/userpic/10.jpg",
						username:"æ˜µç§°",
						guanzhupd:false,
						contents:"æˆ‘æ˜¯æ ‡é¢˜",
						type:"img",//imgå›¾ç‰‡ï¼Œvideoè§†é¢‘
						contentsimg:"../../static/datapic/14.jpg",
						biaoqing:{
							index:0,//0è¡¨ç¤ºæ— æ“ä½œï¼Œ1è¡¨ç¤ºé¡¶äº†ï¼Œ2è¡¨ç¤ºè¸©äº†
							dingnum:10,
							cainum:10
						}, 
						pinglunnum:10,
						sharenum:100
					};
					this.list.push(obj);
					this.loadtext="ä¸Šæ‹‰åŠ è½½æ›´å¤šğŸ‘†";
					//this.loadtext="æ²¡æœ‰æ›´å¤šæ•°æ®äº†/(ã„’oã„’)/~~";
				}, 1000);
			}
		}
	}
</script>

<style>

</style>
